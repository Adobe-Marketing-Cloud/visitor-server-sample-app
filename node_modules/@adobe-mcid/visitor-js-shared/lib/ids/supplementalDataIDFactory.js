var generateRandomID=require("./generateRandomID");function generateSupplementalID(){return generateRandomID(1)}module.exports=function(b){b=b||{};var c=b.supplementalDataIDCurrent,d=b.supplementalDataIDCurrentConsumed||{},e=b.supplementalDataIDLast,f=b.supplementalDataIDLastConsumed||{};return{getID:function(h,i){c||i||(c=generateSupplementalID());// Default to using the current supplemental-data ID
var j=c;// If we have the last supplemental-data ID that has not been consumed by this consumer...
// Return the supplemental-data ID to use
return e&&!f[h]?(j=e,f[h]=!0):j&&(d[h]&&(e=c,f=d,c=j=i?"":generateSupplementalID(),d={}),j&&(d[h]=!0)),j},getState:function(){return{supplementalDataIDCurrent:c,supplementalDataIDCurrentConsumed:d,supplementalDataIDLast:e,supplementalDataIDLastConsumed:f}}}};