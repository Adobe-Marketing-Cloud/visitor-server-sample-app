"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _visitorJsShared=require("@adobe-mcid/visitor-js-shared"),_amcvCookie=require("./amcv-cookie"),_targetAdapter=require("./target-adapter"),_targetAdapter2=_interopRequireDefault(_targetAdapter),_visitorPayload=require("./visitor-payload"),_visitorPayload2=_interopRequireDefault(_visitorPayload),_utils=require("./utils");function _interopRequireDefault(obj){return obj&&obj.__esModule?obj:{default:obj}}function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}/*************************************************************************
* ADOBE CONFIDENTIAL
* ___________________
*
*  Copyright 2016 Adobe Systems Incorporated
*  All Rights Reserved.
*
* NOTICE:  All information contained herein is, and remains
* the property of Adobe Systems Incorporated and its suppliers,
* if any.  The intellectual and technical concepts contained
* herein are proprietary to Adobe Systems Incorporated and its
* suppliers and are protected by all applicable intellectual property 
* laws, including trade secret and copyright laws.
* Dissemination of this information or reproduction of this material
* is strictly forbidden unless prior written permission is obtained
* from Adobe Systems Incorporated.
**************************************************************************/var CONSUMER_ID_BASE="payload:",AMCV_PREFIX="AMCV_";function Visitor(){var a=0>=arguments.length||void 0===arguments[0]?(0,_utils.throwError)("Visitor requires an Org ID!"):arguments[0],b={},c=(0,_utils.normalizeOrgId)(a),d=function d(g){return b=Object.assign({},b,g)},e=(0,_visitorJsShared.supplementalDataIDFactory)(),f=function f(){var g=0>=arguments.length||void 0===arguments[0]?(0,_utils.throwError)("sdidConsumerID is required"):arguments[0],h=e.getID(""+CONSUMER_ID_BASE+g),i=e.getState();return d({sdid:i}),h};this.generatePayload=function(_ref){var g=_ref.sdidConsumerID,h=_ref.amcvCookie,i=f(g),j=(0,_amcvCookie.pickValues)(h,["MCMID","MCAAMB","MCAAMLH"]),_b=b,k=_b.customerIDs;return(0,_visitorPayload2.default)({sdid:i,amcvValues:j,customerIDs:k},_targetAdapter2.default)},this.setCustomerIDs=function(){var g=0>=arguments.length||void 0===arguments[0]?{}:arguments[0];d({customerIDs:g})},this.getState=function(){return _defineProperty({},c,b)},this.getCookieName=function(){return AMCV_PREFIX+c}}Visitor.AuthState=_visitorJsShared.AuthState;exports.default=Visitor;module.exports=exports["default"];